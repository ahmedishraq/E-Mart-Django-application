{% extends 'base.html' %}

{% block content %}

{% load cart %}

<div class="container mt-4">
	<div class="border rounded p-4 m-4">
		<p class="display-6 pl-4 ml-4">Your Cart</p>
		<hr>
		<table class="table">
			<thread>
				<tr>
					<th class="text-center">Sno.</th>
					<th class="text-center">Product Image</th>
					<th class="text-center">Product</th>
					<th class="text-center">Price</th>
					<th class="text-center">Qunatity</th>
					<th>Total</th>
				</tr>
			</thread>
			<tbody>

				{% for product in products %}
				<tr>
					<td class="text-center">{{forloop.counter}}</td>
					<td class="text-center"><img style="height:80px;" class="rounded-circle" src="{{product.image.url}}" alt="Product Image"></td>
					<td class="text-center">{{product.name}}</td>
					<td class="text-center">{{product.price}}</td>
					<td class="text-center">{{product | cart_quantity:request.session.cart}}</td>
					<td>{{product | price_total:request.session.cart}}</td>
				</tr>

				{% endfor %}
			</tbody>
			<tfoot>
				<tr>
					<th colspan="3"></th>
					<th class="text-center">Total</th>
					<th>{{products | total_cart_price:request.session.cart}}</th>
				</tr>
			</tfoot>
		</table>
		<hr>
		<div class="m-3 p-3">
			<a href="#" class="btn btn-outline-info border rounded col-lg-3 float-right">Check out</a>
		</div>
	</div>

</div>


{% endblock %}